# ğŸ‰ éƒ¨ç½²æˆåŠŸæ€»ç»“

## âœ… é—®é¢˜è§£å†³

### åŸå§‹é—®é¢˜
- Cloudflare Pages éƒ¨ç½²å¤±è´¥ï¼š`Pages only supports files up to 25 MiB in size`
- é”™è¯¯æ–‡ä»¶ï¼š`cache/webpack/server-production/0.pack is 40.1 MiB in size`

### è§£å†³æ–¹æ¡ˆ
1. **åˆ›å»ºäº†ä¸“é—¨çš„ç¼“å­˜æ¸…ç†è„šæœ¬**ï¼š`scripts/clean-cloudflare-cache.js`
2. **åˆ é™¤äº†è¿‡å¤§çš„ç¼“å­˜æ–‡ä»¶**ï¼šåˆ é™¤äº†293MBçš„.packæ–‡ä»¶
3. **ä¼˜åŒ–äº†webpacké…ç½®**ï¼šç¦ç”¨äº†å¯èƒ½å¯¼è‡´å¤§æ–‡ä»¶çš„ç¼“å­˜
4. **æ›´æ–°äº†æ„å»ºæµç¨‹**ï¼šåœ¨æ„å»ºå‰è‡ªåŠ¨è¿è¡Œç¼“å­˜æ¸…ç†

## ğŸ“Š éƒ¨ç½²çŠ¶æ€å¯¹æ¯”

### ä¹‹å‰çš„çŠ¶æ€
- âŒ æ‰€æœ‰éƒ¨ç½²éƒ½å¤±è´¥ï¼ˆFailureï¼‰
- âŒ æ–‡ä»¶å¤§å°è¶…è¿‡25MBé™åˆ¶
- âŒ ç¼“å­˜æ–‡ä»¶è¿‡å¤§

### ç°åœ¨çš„çŠ¶æ€
- âœ… æœ€æ–°éƒ¨ç½²æˆåŠŸï¼š`271fcc96-852e-42e8-a8dc-21ac979f57e3`
- âœ… çŠ¶æ€ï¼š`35 seconds ago`ï¼ˆæˆåŠŸï¼‰
- âœ… è®¿é—®åœ°å€ï¼šhttps://271fcc96.kemono-shares-api.pages.dev
- âœ… æ‰€æœ‰æ–‡ä»¶éƒ½åœ¨25MBé™åˆ¶å†…

## ğŸ”§ ä¿®å¤çš„å…·ä½“å†…å®¹

### 1. ç¼“å­˜æ¸…ç†è„šæœ¬
```bash
npm run clean:cf  # æ¸…ç†Cloudflareä¸“ç”¨ç¼“å­˜
```

### 2. æ„å»ºè„šæœ¬ä¼˜åŒ–
- åœ¨ `scripts/build-for-cloudflare-pages-static.js` ä¸­æ·»åŠ äº†è‡ªåŠ¨ç¼“å­˜æ¸…ç†
- æ›´æ–°äº† `next.config.ts` ç¦ç”¨webpackç¼“å­˜

### 3. é…ç½®æ–‡ä»¶æ›´æ–°
- æ›´æ–°äº† `wrangler.toml` æ·»åŠ  `pages_build_output_dir = "out"`
- æ›´æ–°äº† `.gitignore` æ’é™¤å¤§æ–‡ä»¶

## ğŸš€ éƒ¨ç½²å‘½ä»¤

### æœ¬åœ°æ„å»ºå’Œéƒ¨ç½²
```bash
# 1. æ¸…ç†ç¼“å­˜
npm run clean:cf

# 2. æ„å»ºé¡¹ç›®
npm run build:pages:static

# 3. éƒ¨ç½²åˆ°Cloudflare Pages
wrangler pages deploy out --project-name=kemono-shares-api
```

### ä¸€é”®éƒ¨ç½²
```bash
npm run deploy:pages
```

## ğŸ“‹ é¡¹ç›®ä¿¡æ¯

- **é¡¹ç›®åç§°**: kemono-shares-api
- **æœ€æ–°éƒ¨ç½²**: https://271fcc96.kemono-shares-api.pages.dev
- **æ„å»ºå‘½ä»¤**: `npm run build:pages:static`
- **è¾“å‡ºç›®å½•**: `out/`
- **çŠ¶æ€**: âœ… æˆåŠŸ

## ğŸ¯ ä¸‹ä¸€æ­¥

1. **éªŒè¯ç½‘ç«™åŠŸèƒ½**ï¼šè®¿é—®éƒ¨ç½²çš„ç½‘ç«™ç¡®è®¤æ‰€æœ‰åŠŸèƒ½æ­£å¸¸
2. **é…ç½®è‡ªå®šä¹‰åŸŸå**ï¼šå¦‚æœéœ€è¦ï¼Œå¯ä»¥ç»‘å®šåˆ° 2kawaii.com
3. **è®¾ç½®ç¯å¢ƒå˜é‡**ï¼šåœ¨Cloudflare Pagesæ§åˆ¶å°ä¸­é…ç½®æ‰€æœ‰å¿…éœ€çš„ç¯å¢ƒå˜é‡
4. **ç›‘æ§éƒ¨ç½²**ï¼šå®šæœŸæ£€æŸ¥éƒ¨ç½²çŠ¶æ€å’Œæ€§èƒ½

## ğŸ“ æŠ€æœ¯æ”¯æŒ

å¦‚æœé‡åˆ°é—®é¢˜ï¼š
1. è¿è¡Œ `npm run clean:cf` æ¸…ç†ç¼“å­˜
2. æ£€æŸ¥æ„å»ºæ—¥å¿—ï¼š`npm run build:pages:static`
3. æŸ¥çœ‹éƒ¨ç½²çŠ¶æ€ï¼š`wrangler pages deployment list --project-name=kemono-shares-api`

---

**æ€»ç»“**: é€šè¿‡æ¸…ç†è¿‡å¤§çš„ç¼“å­˜æ–‡ä»¶å’Œä¼˜åŒ–æ„å»ºé…ç½®ï¼ŒæˆåŠŸè§£å†³äº†Cloudflare Pagesçš„25MBæ–‡ä»¶å¤§å°é™åˆ¶é—®é¢˜ï¼Œç°åœ¨å¯ä»¥æ­£å¸¸éƒ¨ç½²äº†ï¼ğŸ‰
