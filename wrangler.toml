# Cloudflare Pages 配置文件 - 动态导出版本
name = "kemono-shares-api"
compatibility_date = "2024-09-23"
compatibility_flags = ["nodejs_compat", "global_fetch_strictly_public"]

# Pages配置 - 明确指定构建输出目录
[build]
command = "npm run build:pages:dynamic"
cwd = "."

# 构建输出目录配置
[build.upload]
format = "directory"
dir = ".next"

# 生产环境变量
[env.production.vars]
NODE_ENV = "production"
NEXT_PUBLIC_APP_URL = "https://2kawaii.com"
KIE_AI_API_KEY = "2800cbec975bf014d815f4e5353c826a"
KIE_AI_API_KEY_2 = "6a77fe3ca6856170f6618d4f249cfc6a"
KIE_AI_API_KEY_3 = "db092e9551f4631136cab1b141fdfd21"
KIE_AI_API_KEY_4 = "3f06398cf9d8dc02a24c8b8b8b8b8b8b"
KIE_AI_API_KEY_5 = "5f06398cf9d8dc02a24c8b8b8b8b8b8b"
KIE_AI_API_KEY_6 = "7f06398cf9d8dc02a24c8b8b8b8b8b8b"
KIE_AI_API_KEY_7 = "9f06398cf9d8dc02a24c8b8b8b8b8b8b"
KIE_AI_API_KEY_8 = "1f06398cf9d8dc02a24c8b8b8b8b8b8b"
KIE_AI_API_KEY_9 = "3f06398cf9d8dc02a24c8b8b8b8b8b8b"
KIE_AI_API_KEY_10 = "5f06398cf9d8dc02a24c8b8b8b8b8b8b"

# 生产环境 KV 命名空间绑定
[[env.production.kv_namespaces]]
binding = "SHARE_DATA_KV"
id = "77b81f5b787b449e931fa6a51263b38c"

# 生产环境 R2 存储桶绑定
[[env.production.r2_buckets]]
binding = "UPLOAD_BUCKET"
bucket_name = "kemono-uploadimage"

[[env.production.r2_buckets]]
binding = "AFTERIMAGE_BUCKET"
bucket_name = "kemono-afterimage"

# 预览环境变量
[env.preview.vars]
NODE_ENV = "development"
NEXT_PUBLIC_APP_URL = "https://dev.2kawaii.com"
KIE_AI_API_KEY = "2800cbec975bf014d815f4e5353c826a"
KIE_AI_API_KEY_2 = "6a77fe3ca6856170f6618d4f249cfc6a"
KIE_AI_API_KEY_3 = "db092e9551f4631136cab1b141fdfd21"
KIE_AI_API_KEY_4 = "3f06398cf9d8dc02a24c8b8b8b8b8b8b"
KIE_AI_API_KEY_5 = "5f06398cf9d8dc02a24c8b8b8b8b8b8b"
KIE_AI_API_KEY_6 = "7f06398cf9d8dc02a24c8b8b8b8b8b8b"
KIE_AI_API_KEY_7 = "9f06398cf9d8dc02a24c8b8b8b8b8b8b"
KIE_AI_API_KEY_8 = "1f06398cf9d8dc02a24c8b8b8b8b8b8b"
KIE_AI_API_KEY_9 = "3f06398cf9d8dc02a24c8b8b8b8b8b8b"
KIE_AI_API_KEY_10 = "5f06398cf9d8dc02a24c8b8b8b8b8b8b"

# 预览环境 KV 命名空间绑定
[[env.preview.kv_namespaces]]
binding = "SHARE_DATA_KV"
id = "2d7d8b533f3049b89d808fbb569bb09c"

# 预览环境 R2 存储桶绑定
[[env.preview.r2_buckets]]
binding = "UPLOAD_BUCKET"
bucket_name = "kemono-uploadimage-dev"

[[env.preview.r2_buckets]]
binding = "AFTERIMAGE_BUCKET"
bucket_name = "kemono-afterimage-dev" 