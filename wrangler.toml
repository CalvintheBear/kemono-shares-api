# ğŸ“„ Cloudflare Pages é…ç½®æ–‡ä»¶ - SSR + é™æ€èµ„æºæ”¯æŒ
name = "kemono-shares-api"
account_id = "9a5ff316a26b8abb696af519e515d2de"
compatibility_date = "2024-09-23"
compatibility_flags = ["nodejs_compat", "global_fetch_strictly_public"]
type = "javascript"

# âœ… ä½¿ç”¨ @cloudflare/next-on-pages æ„å»ºå‘½ä»¤
[build]
command = "npx @cloudflare/next-on-pages@latest"

# âœ… è®¾ç½®é»˜è®¤æ„å»ºè¾“å‡ºç›®å½•ï¼ˆæ¨èæ˜¾å¼å£°æ˜ï¼Œé¿å…ç¯å¢ƒè¯†åˆ«ä¸ä¸€è‡´ï¼‰
pages_build_output_dir = "./.vercel/output/static"

# âœ… Functions è®¾ç½®ï¼ˆåŠ¨æ€æ¸²æŸ“å‡½æ•°ï¼‰
[functions]
directory = "./.vercel/output/functions"

# âœ… ç”Ÿäº§ç¯å¢ƒé…ç½®
[env.production]
# âœ… å†æ¬¡å£°æ˜æ„å»ºè¾“å‡ºç›®å½•ï¼ˆæœ‰æ—¶ç¯å¢ƒä¼˜å…ˆçº§è¦†ç›–é»˜è®¤ï¼‰
pages_build_output_dir = "./.vercel/output/static"

[env.production.vars]
NODE_ENV = "production"
NEXT_PUBLIC_APP_URL = "https://2kawaii.com"
KIE_AI_API_KEY = "2800cbec975bf014d815f4e5353c826a"
KIE_AI_API_KEY_2 = "6a77fe3ca6856170f6618d4f249cfc6a"
KIE_AI_API_KEY_3 = "db092e9551f4631136cab1b141fdfd21"
KIE_AI_API_KEY_4 = "3f06398cf9d8dc02a24c8b8b8b8b8b8b"
KIE_AI_API_KEY_5 = "c982688b5c6938943dd721ed1d576edb"

[[env.production.kv_namespaces]]
binding = "SHARE_DATA_KV"
id = "77b81f5b787b449e931fa6a51263b38c"

[[env.production.r2_buckets]]
binding = "UPLOAD_BUCKET"
bucket_name = "kemono-uploadimage"

[[env.production.r2_buckets]]
binding = "AFTERIMAGE_BUCKET"
bucket_name = "kemono-afterimage"

# âœ… é¢„è§ˆç¯å¢ƒé…ç½®
[env.preview]
pages_build_output_dir = "./.vercel/output/static"

[env.preview.vars]
NODE_ENV = "development"
NEXT_PUBLIC_APP_URL = "https://dev.2kawaii.com"
KIE_AI_API_KEY = "2800cbec975bf014d815f4e5353c826a"
KIE_AI_API_KEY_2 = "6a77fe3ca6856170f6618d4f249cfc6a"
KIE_AI_API_KEY_3 = "db092e9551f4631136cab1b141fdfd21"
KIE_AI_API_KEY_4 = "3f06398cf9d8dc02a24c8b8b8b8b8b8b"
KIE_AI_API_KEY_5 = "c982688b5c6938943dd721ed1d576edb"

[[env.preview.kv_namespaces]]
binding = "SHARE_DATA_KV"
id = "2d7d8b533f3049b89d808fbb569bb09c"

[[env.preview.r2_buckets]]
binding = "UPLOAD_BUCKET"
bucket_name = "kemono-uploadimage-dev"

[[env.preview.r2_buckets]]
binding = "AFTERIMAGE_BUCKET"
bucket_name = "kemono-afterimage-dev"